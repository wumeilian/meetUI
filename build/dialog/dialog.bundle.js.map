{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./core/src/common/index.js","webpack:///./core/src/common/libs/utils.js","webpack:///./core/src/elements/base/base-dialog.js","webpack:///./core/src/elements/base/base-element.js","webpack:///./core/src/elements/mui-dialog/index.css?7afe","webpack:///./core/src/elements/mui-dialog/index.js","webpack:///./core/src/index.esm.js","webpack:///./core/src/polyfills/index.js","webpack:///./core/src/polyfills/polyfill-switches.js","webpack:///./examples/dialog/index.js","webpack:///./node_modules/@onsenui/custom-elements/src/AlreadyConstructedMarker.js","webpack:///./node_modules/@onsenui/custom-elements/src/CustomElementInternals.js","webpack:///./node_modules/@onsenui/custom-elements/src/CustomElementRegistry.js","webpack:///./node_modules/@onsenui/custom-elements/src/CustomElementState.js","webpack:///./node_modules/@onsenui/custom-elements/src/Deferred.js","webpack:///./node_modules/@onsenui/custom-elements/src/DocumentConstructionObserver.js","webpack:///./node_modules/@onsenui/custom-elements/src/Patch/Document.js","webpack:///./node_modules/@onsenui/custom-elements/src/Patch/Element.js","webpack:///./node_modules/@onsenui/custom-elements/src/Patch/HTMLElement.js","webpack:///./node_modules/@onsenui/custom-elements/src/Patch/Interface/ChildNode.js","webpack:///./node_modules/@onsenui/custom-elements/src/Patch/Interface/ParentNode.js","webpack:///./node_modules/@onsenui/custom-elements/src/Patch/Native.js","webpack:///./node_modules/@onsenui/custom-elements/src/Patch/Node.js","webpack:///./node_modules/@onsenui/custom-elements/src/Utilities.js","webpack:///./node_modules/@onsenui/custom-elements/src/custom-elements.js","webpack:///./core/css/base.css","webpack:///./core/src/elements/mui-dialog/index.css","webpack:///./node_modules/css-loader/lib/css-base.js","webpack:///./node_modules/style-loader/lib/addStyles.js","webpack:///./node_modules/style-loader/lib/urls.js"],"names":["mui","util","createElement","prepareQuery","query","Function","element","match","e","s","matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","call","findChild","i","childNodes","length","node","nodeType","Node","ELEMENT_NODE","isInstance","obj","instance","Object","prototype","toString","toLowerCase","IDSelector","options","template","document","getElementById","content","cloneTemplate","importNode","body","appendChild","BaseDialogElement","_cancel","bind","shouldShow","style","display","_toggleStyle","console","log","_setVisible","_mask","addEventListener","BaseElement","getElementClass","HTMLElement","DialogElement","_compile","zIndex","createDocumentFragment","firstChild","mask","classList","add","wrapper","container","_dialog","children","append","utils","customElements","define","window","forcePolyfill","dialog","querySelector","show","AlreadyConstructedMarker","CustomElementInternals","_localNameToDefinition","Map","_constructorToDefinition","_patches","_hasPatches","localName","definition","set","constructor","get","listener","push","Utilities","patch","__CE_patched","root","elements","__CE_state","CEState","custom","connectedCallback","upgradeElement","disconnectedCallback","visitedImports","Set","gatherElements","getAttribute","import","readyState","__CE_isImportDocument","__CE_hasRegistry","__CE_documentLoadHandled","clonedVisitedImports","delete","patchAndUpgradeTree","currentState","undefined","localNameToDefinition","constructionStack","result","Error","pop","failed","__CE_definition","attributeChangedCallback","observedAttributes","name","value","__CE_isConnectedCallbackCalled","oldValue","newValue","namespace","indexOf","CustomElementRegistry","internals","_elementDefinitionIsRunning","_internals","_whenDefinedDeferred","_flushCallback","fn","_flushPending","_unflushedLocalNames","_documentConstructionObserver","DocumentConstructionObserver","TypeError","SyntaxError","adoptedCallback","getCallback","callbackValue","setDefinition","_flush","shift","deferred","resolve","Promise","reject","prior","toPromise","Deferred","outer","disconnect","inner","flush","whenDefined","polyfillWrapFlushCallback","CustomElementState","_value","_resolve","_promise","doc","_document","_observer","MutationObserver","_handleMutations","observe","childList","subtree","mutations","addedNodes","j","Document","Native","Document_createElement","deep","clone","Document_importNode","patchTree","NS_HTML","Document_createElementNS","PatchParentNode","prepend","Document_prepend","Document_append","Element_attachShadow","Element","init","shadowRoot","__CE_shadowRoot","warn","patch_innerHTML","destination","baseDescriptor","defineProperty","enumerable","configurable","htmlString","isConnected","removedElements","ownerDocument","Element_innerHTML","HTMLElement_innerHTML","rawDiv","addPatch","Node_cloneNode","innerHTML","assignedValue","Node_removeChild","Node_appendChild","Element_setAttribute","Element_getAttribute","Element_setAttributeNS","Element_getAttributeNS","Element_removeAttribute","Element_removeAttributeNS","patch_insertAdjacentElement","baseMethod","where","wasConnected","insertedElement","disconnectTree","connectTree","HTMLElement_insertAdjacentElement","Element_insertAdjacentElement","Element_prepend","Element_append","PatchChildNode","before","Element_before","after","Element_after","replaceWith","Element_replaceWith","remove","Element_remove","constructorToDefinition","setPrototypeOf","lastIndex","ChildNodeNativeMethods","builtIn","nodes","connectedBefore","filter","apply","ParentNodeNativeMethods","createElementNS","cloneNode","Node_insertBefore","insertBefore","removeChild","Node_replaceChild","replaceChild","Node_textContent","getOwnPropertyDescriptor","setAttribute","removeAttribute","getAttributeNS","setAttributeNS","removeAttributeNS","refNode","DocumentFragment","insertedNodes","Array","slice","nativeResult","nodeWasConnected","nodeToInsert","nodeToRemove","nodeToInsertWasConnected","thisIsConnected","patch_textContent","TEXT_NODE","removedNodes","childNodesLength","parts","textContent","join","createTextNode","reservedTagList","isValidCustomElementName","reserved","has","validForm","test","nativeValue","current","parentNode","ShadowRoot","host","nextSiblingOrAncestorSibling","start","nextSibling","nextNode","walkDeepDescendantElements","callback","child","setPropertyUnchecked","priorCustomElements","PatchHTMLElement","PatchDocument","PatchNode","PatchElement","module","exports","useSourceMap","list","map","item","cssWithMappingToString","modules","mediaQuery","alreadyImportedModules","id","cssMapping","btoa","sourceMapping","toComment","sourceURLs","sources","source","sourceRoot","concat","sourceMap","base64","unescape","encodeURIComponent","JSON","stringify","data","css","location","baseUrl","protocol","currentDir","pathname","replace","fixedCss","fullMatch","origUrl","unquotedOrigUrl","trim","o","$1","newUrl"],"mappings":"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ACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,8CAA8C;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;;AAEA,cAAc,mBAAO,CAAC,uDAAQ;;AAE9B;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA,iBAAiB,mBAAmB;AACpC;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,iBAAiB,sBAAsB;AACvC;;AAEA;AACA,mBAAmB,2BAA2B;;AAE9C;AACA;AACA;AACA;AACA;;AAEA;AACA,gBAAgB,mBAAmB;AACnC;AACA;;AAEA;AACA;;AAEA,iBAAiB,2BAA2B;AAC5C;AACA;;AAEA,QAAQ,uBAAuB;AAC/B;AACA;AACA,GAAG;AACH;;AAEA,iBAAiB,uBAAuB;AACxC;AACA;;AAEA,2BAA2B;AAC3B;AACA;AACA;;AAEA;AACA;AACA;;AAEA,gBAAgB,iBAAiB;AACjC;AACA;AACA;AACA;AACA;AACA,cAAc;;AAEd,kDAAkD,sBAAsB;AACxE;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA,EAAE;AACF;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,EAAE;AACF;;AAEA;AACA,KAAK,KAAwC,EAAE,EAE7C;;AAEF,QAAQ,sBAAiB;AACzB;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,CAAC;;AAED;AACA;;AAEA;AACA;AACA,EAAE;AACF;AACA;;AAEA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,EAAE;AACF;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uDAAuD;AACvD;;AAEA,6BAA6B,mBAAmB;;AAEhD;;AAEA;;AAEA;AACA;;;;;;;;;;;;;AC9YA;;;;;;;;;;;;;AAaA1B,OAAOC,OAAP,GAAiB,UAAU0B,GAAV,EAAe;AAC9B;AACA,KAAIC,WAAW,OAAO1Q,MAAP,KAAkB,WAAlB,IAAiCA,OAAO0Q,QAAvD;;AAEA,KAAI,CAACA,QAAL,EAAe;AACb,QAAM,IAAI3N,KAAJ,CAAU,kCAAV,CAAN;AACD;;AAEF;AACA,KAAI,CAAC0N,GAAD,IAAQ,OAAOA,GAAP,KAAe,QAA3B,EAAqC;AACnC,SAAOA,GAAP;AACA;;AAED,KAAIE,UAAUD,SAASE,QAAT,GAAoB,IAApB,GAA2BF,SAAS1C,IAAlD;AACA,KAAI6C,aAAaF,UAAUD,SAASI,QAAT,CAAkBC,OAAlB,CAA0B,WAA1B,EAAuC,GAAvC,CAA3B;;AAED;AACA;;;;;;;;;;;;;;;;;;;;;;;AAyBA,KAAIC,WAAWP,IAAIM,OAAJ,CAAY,qDAAZ,EAAmE,UAASE,SAAT,EAAoBC,OAApB,EAA6B;AAC9G;AACA,MAAIC,kBAAkBD,QACpBE,IADoB,GAEpBL,OAFoB,CAEZ,UAFY,EAEA,UAASM,CAAT,EAAYC,EAAZ,EAAe;AAAE,UAAOA,EAAP;AAAY,GAF7B,EAGpBP,OAHoB,CAGZ,UAHY,EAGA,UAASM,CAAT,EAAYC,EAAZ,EAAe;AAAE,UAAOA,EAAP;AAAY,GAH7B,CAAtB;;AAKA;AACA,MAAI,oDAAoD3D,IAApD,CAAyDwD,eAAzD,CAAJ,EAA+E;AAC7E,UAAOF,SAAP;AACD;;AAED;AACA,MAAIM,MAAJ;;AAEA,MAAIJ,gBAAgBxN,OAAhB,CAAwB,IAAxB,MAAkC,CAAtC,EAAyC;AACtC;AACF4N,YAASJ,eAAT;AACA,GAHD,MAGO,IAAIA,gBAAgBxN,OAAhB,CAAwB,GAAxB,MAAiC,CAArC,EAAwC;AAC9C;AACA4N,YAASZ,UAAUQ,eAAnB,CAF8C,CAEV;AACpC,GAHM,MAGA;AACN;AACAI,YAASV,aAAaM,gBAAgBJ,OAAhB,CAAwB,OAAxB,EAAiC,EAAjC,CAAtB,CAFM,CAEsD;AAC5D;;AAED;AACA,SAAO,SAAST,KAAKC,SAAL,CAAegB,MAAf,CAAT,GAAkC,GAAzC;AACA,EA5Bc,CAAf;;AA8BA;AACA,QAAOP,QAAP;AACA,CA1ED,C","file":"dialog/dialog.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./examples/dialog/index.js\");\n","import util from './libs/utils'\r\n\r\nconst mui = {\r\n    util\r\n};\r\n\r\nmui.createElement = util.createElement;\r\n\r\n\r\nexport default mui;","const util = {};\r\n\r\n\r\n/**\r\n * @param {String/Function} query dot class name or node name or matcher function.\r\n * @return {Function}\r\n */\r\nutil.prepareQuery = (query) => {\r\n    return query instanceof Function ? query : (element) => util.match(element, query);\r\n};\r\n\r\n/**\r\n * @param {Element} e\r\n * @param {String/Function} s CSS Selector.\r\n * @return {Boolean}\r\n */\r\nutil.match = (e, s) => (e.matches || e.webkitMatchesSelector || e.mozMatchesSelector || e.msMatchesSelector).call(e, s);\r\n\r\n/**\r\n * @param {Element} element\r\n * @param {String/Function} query dot class name or node name or matcher function.\r\n * @return {HTMLElement/null}\r\n */\r\nutil.findChild = (element, query) => {\r\n    const match = util.prepareQuery(query);\r\n\r\n    // Caution: `element.children` is `undefined` in some environments if `element` is `svg`\r\n    for (let i = 0; i < element.childNodes.length; i++) {\r\n        const node = element.childNodes[i];\r\n        if (node.nodeType !== Node.ELEMENT_NODE) { // process only element nodes\r\n            continue;\r\n        }\r\n        if (match(node)) {\r\n            return node;\r\n        }\r\n    }\r\n    return null;\r\n};\r\n\r\nutil.isInstance = (obj, instance) => {\r\n    return Object.prototype.toString.call(obj).toLowerCase() === `[object ${instance.toLowerCase()}]`\r\n};\r\n\r\nutil.createElement = (IDSelector, options) => {\r\n    const template = document.getElementById(IDSelector).content;\r\n    const cloneTemplate = document.importNode(template, true);\r\n    document.body.appendChild(cloneTemplate)\r\n};\r\n\r\nexport default util;","import BaseElement from './base-element';\r\n\r\nexport default class BaseDialogElement extends BaseElement{\r\n\r\n    constructor(){\r\n        super();\r\n        this._cancel = this._cancel.bind(this);\r\n    }\r\n\r\n    // \r\n    _toggleStyle(shouldShow){\r\n        this.style.display = shouldShow? 'block' : 'none';\r\n    }\r\n\r\n    _setVisible(shouldShow){\r\n        this._toggleStyle(shouldShow)\r\n    }\r\n\r\n    _cancel() {\r\n        console.log('cancel');\r\n        this._setVisible(false)\r\n    }\r\n\r\n    show() {\r\n        this._setVisible(true)\r\n    }\r\n\r\n    hide() {\r\n        this._setVisible(false)\r\n    }\r\n\r\n    // life-cycle DOM\r\n    connectedCallback(){\r\n        console.log('connectedCallbacklife-cycle DOM');\r\n        if(this._mask){\r\n            this._mask.addEventListener('click', this._cancel)\r\n        }\r\n    }\r\n\r\n    // life-cycle \r\n    attributeChangedCallback(){\r\n        console.log('attributeChangedCallback, life-cycle ');\r\n    }\r\n\r\n    // life-cycle \r\n    disconnectedCallback(){\r\n        console.log('attributeChangedCallback, life-cycle DOM');\r\n    }\r\n\r\n}","function getElementClass() {\r\n    if (typeof HTMLElement !== 'function') { // case of Safari\r\n        const BaseElement = () => {};\r\n        BaseElement.prototype = document.createElement('div');\r\n        return BaseElement;\r\n    } else {\r\n        return HTMLElement;\r\n    }\r\n}\r\n\r\nexport default class BaseElement extends getElementClass() {\r\n    constructor() {\r\n        super();\r\n    }\r\n}\r\n","\nvar content = require(\"!!../../../../node_modules/css-loader/index.js!./index.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/index.js!./index.css\", function() {\n\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/index.js!./index.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","import './index.css';\nimport BaseDialogElement from '../base/base-dialog';\nimport utils from '../../common/libs/utils'\n\nexport default class DialogElement extends BaseDialogElement{\n\n    constructor(){\n        super();\n\n        this._compile();\n    }\n\n    get _mask() {\n        return utils.findChild(this, '.dialog__mask');\n    }\n\n    get _dialog() {\n        return utils.findChild(this, '.dialog__wrapper')\n    }\n\n    _compile(){\n        this.style.display = 'none';\n        this.style.zIndex = 10001;\n        \n        /**\n         * dialog\n         *\n         * <mui-dialog class=\"mui-dialog\" style=\"none\">\n         *   <div class=\"dialog__mask\"></div>\n         *   <div class=\"dialog__wrapper\">\n         *      <div class=\"dialog__container\">\n         *      </div>\n         *   </div>\n         * </mui-dialog>\n         */\n\n        // fragmentmui-dialog\n        const content = document.createDocumentFragment();\n        while (this.firstChild){\n            content.appendChild(this.firstChild);\n        }\n\n        // maskwrapper\n        const mask = document.createElement('div');\n        mask.classList.add('dialog__mask');\n\n        const wrapper = document.createElement('div')\n        wrapper.classList.add('dialog__wrapper');\n\n        const container = document.createElement('div')\n        container.classList.add('dialog__container');\n        wrapper.appendChild(container);\n\n        this.appendChild(mask);\n        this.appendChild(wrapper);\n        // container\n        this._dialog.children[0].append(content)\n\n        this._mask.style.zIndex = 20000;\n        this._dialog.style.zIndex = 20001;\n    }\n}\n\ncustomElements.define('mui-dialog', DialogElement);","import './polyfills/index'\r\nimport mui from './common/index'\r\n\r\nexport default mui","// Polyfill Custom Elements v1 with global namespace pollution\r\nimport './polyfill-switches';\r\nimport '@onsenui/custom-elements/src/custom-elements';","// For @onsenui/custom-elements\nif (window.customElements) { // even if native CE1 impl exists, use polyfill\n    window.customElements.forcePolyfill = true;\n}\n","import mui from  '../../core/src/index.esm'\r\nimport '@ele/mui-dialog/index'\r\n\r\nmui.createElement('confirm-dialog.html',{});\r\n\r\nvar dialog = document.getElementById('my-dialog');\r\n\r\ndocument.querySelector('#btn1').addEventListener('click', function() {\r\n    dialog.show();\r\n});\r\n","/**\n * This class exists only to work around Closure's lack of a way to describe\n * singletons. It represents the 'already constructed marker' used in custom\n * element construction stacks.\n *\n * https://html.spec.whatwg.org/#concept-already-constructed-marker\n */\nclass AlreadyConstructedMarker {}\n\nexport default new AlreadyConstructedMarker();\n","import * as Utilities from './Utilities.js';\nimport CEState from './CustomElementState.js';\n\nexport default class CustomElementInternals {\n  constructor() {\n    /** @type {!Map<string, !CustomElementDefinition>} */\n    this._localNameToDefinition = new Map();\n\n    /** @type {!Map<!Function, !CustomElementDefinition>} */\n    this._constructorToDefinition = new Map();\n\n    /** @type {!Array<!function(!Node)>} */\n    this._patches = [];\n\n    /** @type {boolean} */\n    this._hasPatches = false;\n  }\n\n  /**\n   * @param {string} localName\n   * @param {!CustomElementDefinition} definition\n   */\n  setDefinition(localName, definition) {\n    this._localNameToDefinition.set(localName, definition);\n    this._constructorToDefinition.set(definition.constructor, definition);\n  }\n\n  /**\n   * @param {string} localName\n   * @return {!CustomElementDefinition|undefined}\n   */\n  localNameToDefinition(localName) {\n    return this._localNameToDefinition.get(localName);\n  }\n\n  /**\n   * @param {!Function} constructor\n   * @return {!CustomElementDefinition|undefined}\n   */\n  constructorToDefinition(constructor) {\n    return this._constructorToDefinition.get(constructor);\n  }\n\n  /**\n   * @param {!function(!Node)} listener\n   */\n  addPatch(listener) {\n    this._hasPatches = true;\n    this._patches.push(listener);\n  }\n\n  /**\n   * @param {!Node} node\n   */\n  patchTree(node) {\n    if (!this._hasPatches) return;\n\n    Utilities.walkDeepDescendantElements(node, element => this.patch(element));\n  }\n\n  /**\n   * @param {!Node} node\n   */\n  patch(node) {\n    if (!this._hasPatches) return;\n\n    if (node.__CE_patched) return;\n    node.__CE_patched = true;\n\n    for (let i = 0; i < this._patches.length; i++) {\n      this._patches[i](node);\n    }\n  }\n\n  /**\n   * @param {!Node} root\n   */\n  connectTree(root) {\n    const elements = [];\n\n    Utilities.walkDeepDescendantElements(root, element => elements.push(element));\n\n    for (let i = 0; i < elements.length; i++) {\n      const element = elements[i];\n      if (element.__CE_state === CEState.custom) {\n        if (Utilities.isConnected(element)) {\n          this.connectedCallback(element);\n        }\n      } else {\n        this.upgradeElement(element);\n      }\n    }\n  }\n\n  /**\n   * @param {!Node} root\n   */\n  disconnectTree(root) {\n    const elements = [];\n\n    Utilities.walkDeepDescendantElements(root, element => elements.push(element));\n\n    for (let i = 0; i < elements.length; i++) {\n      const element = elements[i];\n      if (element.__CE_state === CEState.custom) {\n        this.disconnectedCallback(element);\n      }\n    }\n  }\n\n  /**\n   * Upgrades all uncustomized custom elements at and below a root node for\n   * which there is a definition. When custom element reaction callbacks are\n   * assumed to be called synchronously (which, by the current DOM / HTML spec\n   * definitions, they are *not*), callbacks for both elements customized\n   * synchronously by the parser and elements being upgraded occur in the same\n   * relative order.\n   *\n   * NOTE: This function, when used to simulate the construction of a tree that\n   * is already created but not customized (i.e. by the parser), does *not*\n   * prevent the element from reading the 'final' (true) state of the tree. For\n   * example, the element, during truly synchronous parsing / construction would\n   * see that it contains no children as they have not yet been inserted.\n   * However, this function does not modify the tree, the element will\n   * (incorrectly) have children. Additionally, self-modification restrictions\n   * for custom element constructors imposed by the DOM spec are *not* enforced.\n   *\n   *\n   * The following nested list shows the steps extending down from the HTML\n   * spec's parsing section that cause elements to be synchronously created and\n   * upgraded:\n   *\n   * The \"in body\" insertion mode:\n   * https://html.spec.whatwg.org/multipage/syntax.html#parsing-main-inbody\n   * - Switch on token:\n   *   .. other cases ..\n   *   -> Any other start tag\n   *      - [Insert an HTML element](below) for the token.\n   *\n   * Insert an HTML element:\n   * https://html.spec.whatwg.org/multipage/syntax.html#insert-an-html-element\n   * - Insert a foreign element for the token in the HTML namespace:\n   *   https://html.spec.whatwg.org/multipage/syntax.html#insert-a-foreign-element\n   *   - Create an element for a token:\n   *     https://html.spec.whatwg.org/multipage/syntax.html#create-an-element-for-the-token\n   *     - Will execute script flag is true?\n   *       - (Element queue pushed to the custom element reactions stack.)\n   *     - Create an element:\n   *       https://dom.spec.whatwg.org/#concept-create-element\n   *       - Sync CE flag is true?\n   *         - Constructor called.\n   *         - Self-modification restrictions enforced.\n   *       - Sync CE flag is false?\n   *         - (Upgrade reaction enqueued.)\n   *     - Attributes appended to element.\n   *       (`attributeChangedCallback` reactions enqueued.)\n   *     - Will execute script flag is true?\n   *       - (Element queue popped from the custom element reactions stack.\n   *         Reactions in the popped stack are invoked.)\n   *   - (Element queue pushed to the custom element reactions stack.)\n   *   - Insert the element:\n   *     https://dom.spec.whatwg.org/#concept-node-insert\n   *     - Shadow-including descendants are connected. During parsing\n   *       construction, there are no shadow-*excluding* descendants.\n   *       However, the constructor may have validly attached a shadow\n   *       tree to itself and added descendants to that shadow tree.\n   *       (`connectedCallback` reactions enqueued.)\n   *   - (Element queue popped from the custom element reactions stack.\n   *     Reactions in the popped stack are invoked.)\n   *\n   * @param {!Node} root\n   * @param {!Set<Node>=} visitedImports\n   */\n  patchAndUpgradeTree(root, visitedImports = new Set()) {\n    const elements = [];\n\n    const gatherElements = element => {\n      if (element.localName === 'link' && element.getAttribute('rel') === 'import') {\n        // The HTML Imports polyfill sets a descendant element of the link to\n        // the `import` property, specifically this is *not* a Document.\n        const importNode = /** @type {?Node} */ (element.import);\n\n        if (importNode instanceof Node && importNode.readyState === 'complete') {\n          importNode.__CE_isImportDocument = true;\n\n          // Connected links are associated with the registry.\n          importNode.__CE_hasRegistry = true;\n        } else {\n          // If this link's import root is not available, its contents can't be\n          // walked. Wait for 'load' and walk it when it's ready.\n          element.addEventListener('load', () => {\n            const importNode = /** @type {!Node} */ (element.import);\n\n            if (importNode.__CE_documentLoadHandled) return;\n            importNode.__CE_documentLoadHandled = true;\n\n            importNode.__CE_isImportDocument = true;\n\n            // Connected links are associated with the registry.\n            importNode.__CE_hasRegistry = true;\n\n            // Clone the `visitedImports` set that was populated sync during\n            // the `patchAndUpgradeTree` call that caused this 'load' handler to\n            // be added. Then, remove *this* link's import node so that we can\n            // walk that import again, even if it was partially walked later\n            // during the same `patchAndUpgradeTree` call.\n            const clonedVisitedImports = new Set(visitedImports);\n            visitedImports.delete(importNode);\n\n            this.patchAndUpgradeTree(importNode, visitedImports);\n          });\n        }\n      } else {\n        elements.push(element);\n      }\n    };\n\n    // `walkDeepDescendantElements` populates (and internally checks against)\n    // `visitedImports` when traversing a loaded import.\n    Utilities.walkDeepDescendantElements(root, gatherElements, visitedImports);\n\n    if (this._hasPatches) {\n      for (let i = 0; i < elements.length; i++) {\n        this.patch(elements[i]);\n      }\n    }\n\n    for (let i = 0; i < elements.length; i++) {\n      this.upgradeElement(elements[i]);\n    }\n  }\n\n  /**\n   * @param {!Element} element\n   */\n  upgradeElement(element) {\n    const currentState = element.__CE_state;\n    if (currentState !== undefined) return;\n\n    const definition = this.localNameToDefinition(element.localName);\n    if (!definition) return;\n\n    definition.constructionStack.push(element);\n\n    const constructor = definition.constructor;\n    try {\n      try {\n        let result = new (constructor)();\n        if (result !== element) {\n          throw new Error('The custom element constructor did not produce the element being upgraded.');\n        }\n      } finally {\n        definition.constructionStack.pop();\n      }\n    } catch (e) {\n      element.__CE_state = CEState.failed;\n      throw e;\n    }\n\n    element.__CE_state = CEState.custom;\n    element.__CE_definition = definition;\n\n    if (definition.attributeChangedCallback) {\n      const observedAttributes = definition.observedAttributes;\n      for (let i = 0; i < observedAttributes.length; i++) {\n        const name = observedAttributes[i];\n        const value = element.getAttribute(name);\n        if (value !== null) {\n          this.attributeChangedCallback(element, name, null, value, null);\n        }\n      }\n    }\n\n    if (Utilities.isConnected(element)) {\n      this.connectedCallback(element);\n    }\n  }\n\n  /**\n   * @param {!Element} element\n   */\n  connectedCallback(element) {\n    const definition = element.__CE_definition;\n    if (definition.connectedCallback) {\n      definition.connectedCallback.call(element);\n    }\n\n    element.__CE_isConnectedCallbackCalled = true;\n  }\n\n  /**\n   * @param {!Element} element\n   */\n  disconnectedCallback(element) {\n    if (!element.__CE_isConnectedCallbackCalled) {\n      this.connectedCallback(element);\n    }\n\n    const definition = element.__CE_definition;\n    if (definition.disconnectedCallback) {\n      definition.disconnectedCallback.call(element);\n    }\n\n    element.__CE_isConnectedCallbackCalled = undefined;\n  }\n\n  /**\n   * @param {!Element} element\n   * @param {string} name\n   * @param {?string} oldValue\n   * @param {?string} newValue\n   * @param {?string} namespace\n   */\n  attributeChangedCallback(element, name, oldValue, newValue, namespace) {\n    const definition = element.__CE_definition;\n    if (\n      definition.attributeChangedCallback &&\n      definition.observedAttributes.indexOf(name) > -1\n    ) {\n      definition.attributeChangedCallback.call(element, name, oldValue, newValue, namespace);\n    }\n  }\n}\n","import CustomElementInternals from './CustomElementInternals.js';\nimport DocumentConstructionObserver from './DocumentConstructionObserver.js';\nimport Deferred from './Deferred.js';\nimport * as Utilities from './Utilities.js';\n\n/**\n * @unrestricted\n */\nexport default class CustomElementRegistry {\n\n  /**\n   * @param {!CustomElementInternals} internals\n   */\n  constructor(internals) {\n    /**\n     * @private\n     * @type {boolean}\n     */\n    this._elementDefinitionIsRunning = false;\n\n    /**\n     * @private\n     * @type {!CustomElementInternals}\n     */\n    this._internals = internals;\n\n    /**\n     * @private\n     * @type {!Map<string, !Deferred<undefined>>}\n     */\n    this._whenDefinedDeferred = new Map();\n\n    /**\n     * The default flush callback triggers the document walk synchronously.\n     * @private\n     * @type {!Function}\n     */\n    this._flushCallback = fn => fn();\n\n    /**\n     * @private\n     * @type {boolean}\n     */\n    this._flushPending = false;\n\n    /**\n     * @private\n     * @type {!Array<string>}\n     */\n    this._unflushedLocalNames = [];\n\n    /**\n     * @private\n     * @type {!DocumentConstructionObserver}\n     */\n    this._documentConstructionObserver = new DocumentConstructionObserver(internals, document);\n  }\n\n  /**\n   * @param {string} localName\n   * @param {!Function} constructor\n   */\n  define(localName, constructor) {\n    if (!(constructor instanceof Function)) {\n      throw new TypeError('Custom element constructors must be functions.');\n    }\n\n    if (!Utilities.isValidCustomElementName(localName)) {\n      throw new SyntaxError(`The element name '${localName}' is not valid.`);\n    }\n\n    if (this._internals.localNameToDefinition(localName)) {\n      throw new Error(`A custom element with name '${localName}' has already been defined.`);\n    }\n\n    if (this._elementDefinitionIsRunning) {\n      throw new Error('A custom element is already being defined.');\n    }\n    this._elementDefinitionIsRunning = true;\n\n    let connectedCallback;\n    let disconnectedCallback;\n    let adoptedCallback;\n    let attributeChangedCallback;\n    let observedAttributes;\n    try {\n      /** @type {!Object} */\n      const prototype = constructor.prototype;\n      if (!(prototype instanceof Object)) {\n        throw new TypeError('The custom element constructor\\'s prototype is not an object.');\n      }\n\n      function getCallback(name) {\n        const callbackValue = prototype[name];\n        if (callbackValue !== undefined && !(callbackValue instanceof Function)) {\n          throw new Error(`The '${name}' callback must be a function.`);\n        }\n        return callbackValue;\n      }\n\n      connectedCallback = getCallback('connectedCallback');\n      disconnectedCallback = getCallback('disconnectedCallback');\n      adoptedCallback = getCallback('adoptedCallback');\n      attributeChangedCallback = getCallback('attributeChangedCallback');\n      observedAttributes = constructor['observedAttributes'] || [];\n    } catch (e) {\n      return;\n    } finally {\n      this._elementDefinitionIsRunning = false;\n    }\n\n    const definition = {\n      localName,\n      constructor,\n      connectedCallback,\n      disconnectedCallback,\n      adoptedCallback,\n      attributeChangedCallback,\n      observedAttributes,\n      constructionStack: [],\n    };\n\n    this._internals.setDefinition(localName, definition);\n\n    this._unflushedLocalNames.push(localName);\n\n    // If we've already called the flush callback and it hasn't called back yet,\n    // don't call it again.\n    if (!this._flushPending) {\n      this._flushPending = true;\n      this._flushCallback(() => this._flush());\n    }\n  }\n\n  _flush() {\n    // If no new definitions were defined, don't attempt to flush. This could\n    // happen if a flush callback keeps the function it is given and calls it\n    // multiple times.\n    if (this._flushPending === false) return;\n\n    this._flushPending = false;\n    this._internals.patchAndUpgradeTree(document);\n\n    while (this._unflushedLocalNames.length > 0) {\n      const localName = this._unflushedLocalNames.shift();\n      const deferred = this._whenDefinedDeferred.get(localName);\n      if (deferred) {\n        deferred.resolve(undefined);\n      }\n    }\n  }\n\n  /**\n   * @param {string} localName\n   * @return {Function|undefined}\n   */\n  get(localName) {\n    const definition = this._internals.localNameToDefinition(localName);\n    if (definition) {\n      return definition.constructor;\n    }\n\n    return undefined;\n  }\n\n  /**\n   * @param {string} localName\n   * @return {!Promise<undefined>}\n   */\n  whenDefined(localName) {\n    if (!Utilities.isValidCustomElementName(localName)) {\n      return Promise.reject(new SyntaxError(`'${localName}' is not a valid custom element name.`));\n    }\n\n    const prior = this._whenDefinedDeferred.get(localName);\n    if (prior) {\n      return prior.toPromise();\n    }\n\n    const deferred = new Deferred();\n    this._whenDefinedDeferred.set(localName, deferred);\n\n    const definition = this._internals.localNameToDefinition(localName);\n    // Resolve immediately only if the given local name has a definition *and*\n    // the full document walk to upgrade elements with that local name has\n    // already happened.\n    if (definition && this._unflushedLocalNames.indexOf(localName) === -1) {\n      deferred.resolve(undefined);\n    }\n\n    return deferred.toPromise();\n  }\n\n  polyfillWrapFlushCallback(outer) {\n    this._documentConstructionObserver.disconnect();\n    const inner = this._flushCallback;\n    this._flushCallback = flush => outer(() => inner(flush));\n  }\n}\n\n// Closure compiler exports.\nwindow['CustomElementRegistry'] = CustomElementRegistry;\nCustomElementRegistry.prototype['define'] = CustomElementRegistry.prototype.define;\nCustomElementRegistry.prototype['get'] = CustomElementRegistry.prototype.get;\nCustomElementRegistry.prototype['whenDefined'] = CustomElementRegistry.prototype.whenDefined;\nCustomElementRegistry.prototype['polyfillWrapFlushCallback'] = CustomElementRegistry.prototype.polyfillWrapFlushCallback;\n","/**\n * @enum {number}\n */\nconst CustomElementState = {\n  custom: 1,\n  failed: 2,\n};\n\nexport default CustomElementState;\n","/**\n * @template T\n */\nexport default class Deferred {\n  constructor() {\n    /**\n     * @private\n     * @type {T|undefined}\n     */\n    this._value = undefined;\n\n    /**\n     * @private\n     * @type {Function|undefined}\n     */\n    this._resolve = undefined;\n\n    /**\n     * @private\n     * @type {!Promise<T>}\n     */\n    this._promise = new Promise(resolve => {\n      this._resolve = resolve;\n\n      if (this._value) {\n        resolve(this._value);\n      }\n    });\n  }\n\n  /**\n   * @param {T} value\n   */\n  resolve(value) {\n    if (this._value) {\n      throw new Error('Already resolved.');\n    }\n\n    this._value = value;\n\n    if (this._resolve) {\n      this._resolve(value);\n    }\n  }\n\n  /**\n   * @return {!Promise<T>}\n   */\n  toPromise() {\n    return this._promise;\n  }\n}\n","import CustomElementInternals from './CustomElementInternals.js';\n\nexport default class DocumentConstructionObserver {\n  constructor(internals, doc) {\n    /**\n     * @type {!CustomElementInternals}\n     */\n    this._internals = internals;\n\n    /**\n     * @type {!Document}\n     */\n    this._document = doc;\n\n    /**\n     * @type {MutationObserver|undefined}\n     */\n    this._observer = undefined;\n\n\n    // Simulate tree construction for all currently accessible nodes in the\n    // document.\n    this._internals.patchAndUpgradeTree(this._document);\n\n    if (this._document.readyState === 'loading') {\n      this._observer = new MutationObserver(this._handleMutations.bind(this));\n\n      // Nodes created by the parser are given to the observer *before* the next\n      // task runs. Inline scripts are run in a new task. This means that the\n      // observer will be able to handle the newly parsed nodes before the inline\n      // script is run.\n      this._observer.observe(this._document, {\n        childList: true,\n        subtree: true,\n      });\n    }\n  }\n\n  disconnect() {\n    if (this._observer) {\n      this._observer.disconnect();\n    }\n  }\n\n  /**\n   * @param {!Array<!MutationRecord>} mutations\n   */\n  _handleMutations(mutations) {\n    // Once the document's `readyState` is 'interactive' or 'complete', all new\n    // nodes created within that document will be the result of script and\n    // should be handled by patching.\n    const readyState = this._document.readyState;\n    if (readyState === 'interactive' || readyState === 'complete') {\n      this.disconnect();\n    }\n\n    for (let i = 0; i < mutations.length; i++) {\n      const addedNodes = mutations[i].addedNodes;\n      for (let j = 0; j < addedNodes.length; j++) {\n        const node = addedNodes[j];\n        this._internals.patchAndUpgradeTree(node);\n      }\n    }\n  }\n}\n","import Native from './Native.js';\nimport CustomElementInternals from '../CustomElementInternals.js';\nimport * as Utilities from '../Utilities.js';\n\nimport PatchParentNode from './Interface/ParentNode.js';\n\n/**\n * @param {!CustomElementInternals} internals\n */\nexport default function(internals) {\n  Utilities.setPropertyUnchecked(Document.prototype, 'createElement',\n    /**\n     * @this {Document}\n     * @param {string} localName\n     * @return {!Element}\n     */\n    function(localName) {\n      // Only create custom elements if this document is associated with the registry.\n      if (this.__CE_hasRegistry) {\n        const definition = internals.localNameToDefinition(localName);\n        if (definition) {\n          return new (definition.constructor)();\n        }\n      }\n\n      const result = /** @type {!Element} */\n        (Native.Document_createElement.call(this, localName));\n      internals.patch(result);\n      return result;\n    });\n\n  Utilities.setPropertyUnchecked(Document.prototype, 'importNode',\n    /**\n     * @this {Document}\n     * @param {!Node} node\n     * @param {boolean=} deep\n     * @return {!Node}\n     */\n    function(node, deep) {\n      const clone = Native.Document_importNode.call(this, node, deep);\n      // Only create custom elements if this document is associated with the registry.\n      if (!this.__CE_hasRegistry) {\n        internals.patchTree(clone);\n      } else {\n        internals.patchAndUpgradeTree(clone);\n      }\n      return clone;\n    });\n\n  const NS_HTML = \"http://www.w3.org/1999/xhtml\";\n\n  Utilities.setPropertyUnchecked(Document.prototype, 'createElementNS',\n    /**\n     * @this {Document}\n     * @param {?string} namespace\n     * @param {string} localName\n     * @return {!Element}\n     */\n    function(namespace, localName) {\n      // Only create custom elements if this document is associated with the registry.\n      if (this.__CE_hasRegistry && (namespace === null || namespace === NS_HTML)) {\n        const definition = internals.localNameToDefinition(localName);\n        if (definition) {\n          return new (definition.constructor)();\n        }\n      }\n\n      const result = /** @type {!Element} */\n        (Native.Document_createElementNS.call(this, namespace, localName));\n      internals.patch(result);\n      return result;\n    });\n\n  PatchParentNode(internals, Document.prototype, {\n    prepend: Native.Document_prepend,\n    append: Native.Document_append,\n  });\n};\n","import Native from './Native.js';\nimport CustomElementInternals from '../CustomElementInternals.js';\nimport CEState from '../CustomElementState.js';\nimport * as Utilities from '../Utilities.js';\n\nimport PatchParentNode from './Interface/ParentNode.js';\nimport PatchChildNode from './Interface/ChildNode.js';\n\n/**\n * @param {!CustomElementInternals} internals\n */\nexport default function(internals) {\n  if (Native.Element_attachShadow) {\n    Utilities.setPropertyUnchecked(Element.prototype, 'attachShadow',\n      /**\n       * @this {Element}\n       * @param {!{mode: string}} init\n       * @return {ShadowRoot}\n       */\n      function(init) {\n        const shadowRoot = Native.Element_attachShadow.call(this, init);\n        this.__CE_shadowRoot = shadowRoot;\n        return shadowRoot;\n      });\n  } else {\n    console.warn('Custom Elements: `Element#attachShadow` was not patched.');\n  }\n\n\n  function patch_innerHTML(destination, baseDescriptor) {\n    Object.defineProperty(destination, 'innerHTML', {\n      enumerable: baseDescriptor.enumerable,\n      configurable: true,\n      get: baseDescriptor.get,\n      set: /** @this {Element} */ function(htmlString) {\n        const isConnected = Utilities.isConnected(this);\n\n        // NOTE: In IE11, when using the native `innerHTML` setter, all nodes\n        // that were previously descendants of the context element have all of\n        // their children removed as part of the set - the entire subtree is\n        // 'disassembled'. This work around walks the subtree *before* using the\n        // native setter.\n        /** @type {!Array<!Element>|undefined} */\n        let removedElements = undefined;\n        if (isConnected) {\n          removedElements = [];\n          Utilities.walkDeepDescendantElements(this, element => {\n            if (element !== this) {\n              removedElements.push(element);\n            }\n          });\n        }\n\n        baseDescriptor.set.call(this, htmlString);\n\n        if (removedElements) {\n          for (let i = 0; i < removedElements.length; i++) {\n            const element = removedElements[i];\n            if (element.__CE_state === CEState.custom) {\n              internals.disconnectedCallback(element);\n            }\n          }\n        }\n\n        // Only create custom elements if this element's owner document is\n        // associated with the registry.\n        if (!this.ownerDocument.__CE_hasRegistry) {\n          internals.patchTree(this);\n        } else {\n          internals.patchAndUpgradeTree(this);\n        }\n        return htmlString;\n      },\n    });\n  }\n\n  if (Native.Element_innerHTML && Native.Element_innerHTML.get) {\n    patch_innerHTML(Element.prototype, Native.Element_innerHTML);\n  } else if (Native.HTMLElement_innerHTML && Native.HTMLElement_innerHTML.get) {\n    patch_innerHTML(HTMLElement.prototype, Native.HTMLElement_innerHTML);\n  } else {\n\n    /** @type {HTMLDivElement} */\n    const rawDiv = Native.Document_createElement.call(document, 'div');\n\n    internals.addPatch(function(element) {\n      patch_innerHTML(element, {\n        enumerable: true,\n        configurable: true,\n        // Implements getting `innerHTML` by performing an unpatched `cloneNode`\n        // of the element and returning the resulting element's `innerHTML`.\n        // TODO: Is this too expensive?\n        get: /** @this {Element} */ function() {\n          return Native.Node_cloneNode.call(this, true).innerHTML;\n        },\n        // Implements setting `innerHTML` by creating an unpatched element,\n        // setting `innerHTML` of that element and replacing the target\n        // element's children with those of the unpatched element.\n        set: /** @this {Element} */ function(assignedValue) {\n          // NOTE: re-route to `content` for `template` elements.\n          // We need to do this because `template.appendChild` does not\n          // route into `template.content`.\n          /** @type {!Node} */\n          const content = this.localName === 'template' ? (/** @type {!HTMLTemplateElement} */ (this)).content : this;\n          rawDiv.innerHTML = assignedValue;\n\n          while (content.childNodes.length > 0) {\n            Native.Node_removeChild.call(content, content.childNodes[0]);\n          }\n          while (rawDiv.childNodes.length > 0) {\n            Native.Node_appendChild.call(content, rawDiv.childNodes[0]);\n          }\n        },\n      });\n    });\n  }\n\n\n  Utilities.setPropertyUnchecked(Element.prototype, 'setAttribute',\n    /**\n     * @this {Element}\n     * @param {string} name\n     * @param {string} newValue\n     */\n    function(name, newValue) {\n      // Fast path for non-custom elements.\n      if (this.__CE_state !== CEState.custom) {\n        return Native.Element_setAttribute.call(this, name, newValue);\n      }\n\n      const oldValue = Native.Element_getAttribute.call(this, name);\n      Native.Element_setAttribute.call(this, name, newValue);\n      newValue = Native.Element_getAttribute.call(this, name);\n      internals.attributeChangedCallback(this, name, oldValue, newValue, null);\n    });\n\n  Utilities.setPropertyUnchecked(Element.prototype, 'setAttributeNS',\n    /**\n     * @this {Element}\n     * @param {?string} namespace\n     * @param {string} name\n     * @param {string} newValue\n     */\n    function(namespace, name, newValue) {\n      // Fast path for non-custom elements.\n      if (this.__CE_state !== CEState.custom) {\n        return Native.Element_setAttributeNS.call(this, namespace, name, newValue);\n      }\n\n      const oldValue = Native.Element_getAttributeNS.call(this, namespace, name);\n      Native.Element_setAttributeNS.call(this, namespace, name, newValue);\n      newValue = Native.Element_getAttributeNS.call(this, namespace, name);\n      internals.attributeChangedCallback(this, name, oldValue, newValue, namespace);\n    });\n\n  Utilities.setPropertyUnchecked(Element.prototype, 'removeAttribute',\n    /**\n     * @this {Element}\n     * @param {string} name\n     */\n    function(name) {\n      // Fast path for non-custom elements.\n      if (this.__CE_state !== CEState.custom) {\n        return Native.Element_removeAttribute.call(this, name);\n      }\n\n      const oldValue = Native.Element_getAttribute.call(this, name);\n      Native.Element_removeAttribute.call(this, name);\n      if (oldValue !== null) {\n        internals.attributeChangedCallback(this, name, oldValue, null, null);\n      }\n    });\n\n  Utilities.setPropertyUnchecked(Element.prototype, 'removeAttributeNS',\n    /**\n     * @this {Element}\n     * @param {?string} namespace\n     * @param {string} name\n     */\n    function(namespace, name) {\n      // Fast path for non-custom elements.\n      if (this.__CE_state !== CEState.custom) {\n        return Native.Element_removeAttributeNS.call(this, namespace, name);\n      }\n\n      const oldValue = Native.Element_getAttributeNS.call(this, namespace, name);\n      Native.Element_removeAttributeNS.call(this, namespace, name);\n      // In older browsers, `Element#getAttributeNS` may return the empty string\n      // instead of null if the attribute does not exist. For details, see;\n      // https://developer.mozilla.org/en-US/docs/Web/API/Element/getAttributeNS#Notes\n      const newValue = Native.Element_getAttributeNS.call(this, namespace, name);\n      if (oldValue !== newValue) {\n        internals.attributeChangedCallback(this, name, oldValue, newValue, namespace);\n      }\n    });\n\n\n  function patch_insertAdjacentElement(destination, baseMethod) {\n    Utilities.setPropertyUnchecked(destination, 'insertAdjacentElement',\n      /**\n       * @this {Element}\n       * @param {string} where\n       * @param {!Element} element\n       * @return {?Element}\n       */\n      function(where, element) {\n        const wasConnected = Utilities.isConnected(element);\n        const insertedElement = /** @type {!Element} */\n          (baseMethod.call(this, where, element));\n\n        if (wasConnected) {\n          internals.disconnectTree(element);\n        }\n\n        if (Utilities.isConnected(insertedElement)) {\n          internals.connectTree(element);\n        }\n        return insertedElement;\n      });\n  }\n\n  if (Native.HTMLElement_insertAdjacentElement) {\n    patch_insertAdjacentElement(HTMLElement.prototype, Native.HTMLElement_insertAdjacentElement);\n  } else if (Native.Element_insertAdjacentElement) {\n    patch_insertAdjacentElement(Element.prototype, Native.Element_insertAdjacentElement);\n  } else {\n    console.warn('Custom Elements: `Element#insertAdjacentElement` was not patched.');\n  }\n\n\n  PatchParentNode(internals, Element.prototype, {\n    prepend: Native.Element_prepend,\n    append: Native.Element_append,\n  });\n\n  PatchChildNode(internals, Element.prototype, {\n    before: Native.Element_before,\n    after: Native.Element_after,\n    replaceWith: Native.Element_replaceWith,\n    remove: Native.Element_remove,\n  });\n};\n","import Native from './Native.js';\nimport CustomElementInternals from '../CustomElementInternals.js';\nimport CEState from '../CustomElementState.js';\nimport AlreadyConstructedMarker from '../AlreadyConstructedMarker.js';\n\n/**\n * @param {!CustomElementInternals} internals\n */\nexport default function(internals) {\n  window['HTMLElement'] = (function() {\n    /**\n     * @type {function(new: HTMLElement): !HTMLElement}\n     */\n    function HTMLElement() {\n      // This should really be `new.target` but `new.target` can't be emulated\n      // in ES5. Assuming the user keeps the default value of the constructor's\n      // prototype's `constructor` property, this is equivalent.\n      /** @type {!Function} */\n      const constructor = this.constructor;\n\n      const definition = internals.constructorToDefinition(constructor);\n      if (!definition) {\n        throw new Error('The custom element being constructed was not registered with `customElements`.');\n      }\n\n      const constructionStack = definition.constructionStack;\n\n      if (constructionStack.length === 0) {\n        const element = Native.Document_createElement.call(document, definition.localName);\n        Object.setPrototypeOf(element, constructor.prototype);\n        element.__CE_state = CEState.custom;\n        element.__CE_definition = definition;\n        internals.patch(element);\n        return element;\n      }\n\n      const lastIndex = constructionStack.length - 1;\n      const element = constructionStack[lastIndex];\n      if (element === AlreadyConstructedMarker) {\n        throw new Error('The HTMLElement constructor was either called reentrantly for this constructor or called multiple times.');\n      }\n      constructionStack[lastIndex] = AlreadyConstructedMarker;\n\n      Object.setPrototypeOf(element, constructor.prototype);\n      internals.patch(/** @type {!HTMLElement} */ (element));\n\n      return element;\n    }\n\n    HTMLElement.prototype = Native.HTMLElement.prototype;\n\n    return HTMLElement;\n  })();\n};\n","import CustomElementInternals from '../../CustomElementInternals.js';\nimport * as Utilities from '../../Utilities.js';\n\n/**\n * @typedef {{\n *   before: !function(...(!Node|string)),\n *   after: !function(...(!Node|string)),\n *   replaceWith: !function(...(!Node|string)),\n *   remove: !function(),\n * }}\n */\nlet ChildNodeNativeMethods;\n\n/**\n * @param {!CustomElementInternals} internals\n * @param {!Object} destination\n * @param {!ChildNodeNativeMethods} builtIn\n */\nexport default function(internals, destination, builtIn) {\n  /**\n   * @param {...(!Node|string)} nodes\n   */\n  destination['before'] = function(...nodes) {\n    // TODO: Fix this for when one of `nodes` is a DocumentFragment!\n    const connectedBefore = /** @type {!Array<!Node>} */ (nodes.filter(node => {\n      // DocumentFragments are not connected and will not be added to the list.\n      return node instanceof Node && Utilities.isConnected(node);\n    }));\n\n    builtIn.before.apply(this, nodes);\n\n    for (let i = 0; i < connectedBefore.length; i++) {\n      internals.disconnectTree(connectedBefore[i]);\n    }\n\n    if (Utilities.isConnected(this)) {\n      for (let i = 0; i < nodes.length; i++) {\n        const node = nodes[i];\n        if (node instanceof Element) {\n          internals.connectTree(node);\n        }\n      }\n    }\n  };\n\n  /**\n   * @param {...(!Node|string)} nodes\n   */\n  destination['after'] = function(...nodes) {\n    // TODO: Fix this for when one of `nodes` is a DocumentFragment!\n    const connectedBefore = /** @type {!Array<!Node>} */ (nodes.filter(node => {\n      // DocumentFragments are not connected and will not be added to the list.\n      return node instanceof Node && Utilities.isConnected(node);\n    }));\n\n    builtIn.after.apply(this, nodes);\n\n    for (let i = 0; i < connectedBefore.length; i++) {\n      internals.disconnectTree(connectedBefore[i]);\n    }\n\n    if (Utilities.isConnected(this)) {\n      for (let i = 0; i < nodes.length; i++) {\n        const node = nodes[i];\n        if (node instanceof Element) {\n          internals.connectTree(node);\n        }\n      }\n    }\n  };\n\n  /**\n   * @param {...(!Node|string)} nodes\n   */\n  destination['replaceWith'] = function(...nodes) {\n    // TODO: Fix this for when one of `nodes` is a DocumentFragment!\n    const connectedBefore = /** @type {!Array<!Node>} */ (nodes.filter(node => {\n      // DocumentFragments are not connected and will not be added to the list.\n      return node instanceof Node && Utilities.isConnected(node);\n    }));\n\n    const wasConnected = Utilities.isConnected(this);\n\n    builtIn.replaceWith.apply(this, nodes);\n\n    for (let i = 0; i < connectedBefore.length; i++) {\n      internals.disconnectTree(connectedBefore[i]);\n    }\n\n    if (wasConnected) {\n      internals.disconnectTree(this);\n      for (let i = 0; i < nodes.length; i++) {\n        const node = nodes[i];\n        if (node instanceof Element) {\n          internals.connectTree(node);\n        }\n      }\n    }\n  };\n\n  destination['remove'] = function() {\n    const wasConnected = Utilities.isConnected(this);\n\n    builtIn.remove.call(this);\n\n    if (wasConnected) {\n      internals.disconnectTree(this);\n    }\n  };\n};\n","import CustomElementInternals from '../../CustomElementInternals.js';\nimport * as Utilities from '../../Utilities.js';\n\n/**\n * @typedef {{\n *   prepend: !function(...(!Node|string)),\n  *  append: !function(...(!Node|string)),\n * }}\n */\nlet ParentNodeNativeMethods;\n\n/**\n * @param {!CustomElementInternals} internals\n * @param {!Object} destination\n * @param {!ParentNodeNativeMethods} builtIn\n */\nexport default function(internals, destination, builtIn) {\n  /**\n   * @param {...(!Node|string)} nodes\n   */\n  destination['prepend'] = function(...nodes) {\n    // TODO: Fix this for when one of `nodes` is a DocumentFragment!\n    const connectedBefore = /** @type {!Array<!Node>} */ (nodes.filter(node => {\n      // DocumentFragments are not connected and will not be added to the list.\n      return node instanceof Node && Utilities.isConnected(node);\n    }));\n\n    builtIn.prepend.apply(this, nodes);\n\n    for (let i = 0; i < connectedBefore.length; i++) {\n      internals.disconnectTree(connectedBefore[i]);\n    }\n\n    if (Utilities.isConnected(this)) {\n      for (let i = 0; i < nodes.length; i++) {\n        const node = nodes[i];\n        if (node instanceof Element) {\n          internals.connectTree(node);\n        }\n      }\n    }\n  };\n\n  /**\n   * @param {...(!Node|string)} nodes\n   */\n  destination['append'] = function(...nodes) {\n    // TODO: Fix this for when one of `nodes` is a DocumentFragment!\n    const connectedBefore = /** @type {!Array<!Node>} */ (nodes.filter(node => {\n      // DocumentFragments are not connected and will not be added to the list.\n      return node instanceof Node && Utilities.isConnected(node);\n    }));\n\n    builtIn.append.apply(this, nodes);\n\n    for (let i = 0; i < connectedBefore.length; i++) {\n      internals.disconnectTree(connectedBefore[i]);\n    }\n\n    if (Utilities.isConnected(this)) {\n      for (let i = 0; i < nodes.length; i++) {\n        const node = nodes[i];\n        if (node instanceof Element) {\n          internals.connectTree(node);\n        }\n      }\n    }\n  };\n};\n","export default {\n  Document_createElement: window.Document.prototype.createElement,\n  Document_createElementNS: window.Document.prototype.createElementNS,\n  Document_importNode: window.Document.prototype.importNode,\n  Document_prepend: window.Document.prototype['prepend'],\n  Document_append: window.Document.prototype['append'],\n  Node_cloneNode: window.Node.prototype.cloneNode,\n  Node_appendChild: window.Node.prototype.appendChild,\n  Node_insertBefore: window.Node.prototype.insertBefore,\n  Node_removeChild: window.Node.prototype.removeChild,\n  Node_replaceChild: window.Node.prototype.replaceChild,\n  Node_textContent: Object.getOwnPropertyDescriptor(window.Node.prototype, 'textContent'),\n  Element_attachShadow: window.Element.prototype['attachShadow'],\n  Element_innerHTML: Object.getOwnPropertyDescriptor(window.Element.prototype, 'innerHTML'),\n  Element_getAttribute: window.Element.prototype.getAttribute,\n  Element_setAttribute: window.Element.prototype.setAttribute,\n  Element_removeAttribute: window.Element.prototype.removeAttribute,\n  Element_getAttributeNS: window.Element.prototype.getAttributeNS,\n  Element_setAttributeNS: window.Element.prototype.setAttributeNS,\n  Element_removeAttributeNS: window.Element.prototype.removeAttributeNS,\n  Element_insertAdjacentElement: window.Element.prototype['insertAdjacentElement'],\n  Element_prepend: window.Element.prototype['prepend'],\n  Element_append: window.Element.prototype['append'],\n  Element_before: window.Element.prototype['before'],\n  Element_after: window.Element.prototype['after'],\n  Element_replaceWith: window.Element.prototype['replaceWith'],\n  Element_remove: window.Element.prototype['remove'],\n  HTMLElement: window.HTMLElement,\n  HTMLElement_innerHTML: Object.getOwnPropertyDescriptor(window.HTMLElement.prototype, 'innerHTML'),\n  HTMLElement_insertAdjacentElement: window.HTMLElement.prototype['insertAdjacentElement'],\n};\n","import Native from './Native.js';\nimport CustomElementInternals from '../CustomElementInternals.js';\nimport * as Utilities from '../Utilities.js';\n\n/**\n * @param {!CustomElementInternals} internals\n */\nexport default function(internals) {\n  // `Node#nodeValue` is implemented on `Attr`.\n  // `Node#textContent` is implemented on `Attr`, `Element`.\n\n  Utilities.setPropertyUnchecked(Node.prototype, 'insertBefore',\n    /**\n     * @this {Node}\n     * @param {!Node} node\n     * @param {?Node} refNode\n     * @return {!Node}\n     */\n    function(node, refNode) {\n      if (node instanceof DocumentFragment) {\n        const insertedNodes = Array.prototype.slice.apply(node.childNodes);\n        const nativeResult = Native.Node_insertBefore.call(this, node, refNode);\n\n        // DocumentFragments can't be connected, so `disconnectTree` will never\n        // need to be called on a DocumentFragment's children after inserting it.\n\n        if (Utilities.isConnected(this)) {\n          for (let i = 0; i < insertedNodes.length; i++) {\n            internals.connectTree(insertedNodes[i]);\n          }\n        }\n\n        return nativeResult;\n      }\n\n      const nodeWasConnected = Utilities.isConnected(node);\n      const nativeResult = Native.Node_insertBefore.call(this, node, refNode);\n\n      if (nodeWasConnected) {\n        internals.disconnectTree(node);\n      }\n\n      if (Utilities.isConnected(this)) {\n        internals.connectTree(node);\n      }\n\n      return nativeResult;\n    });\n\n  Utilities.setPropertyUnchecked(Node.prototype, 'appendChild',\n    /**\n     * @this {Node}\n     * @param {!Node} node\n     * @return {!Node}\n     */\n    function(node) {\n      if (node instanceof DocumentFragment) {\n        const insertedNodes = Array.prototype.slice.apply(node.childNodes);\n        const nativeResult = Native.Node_appendChild.call(this, node);\n\n        // DocumentFragments can't be connected, so `disconnectTree` will never\n        // need to be called on a DocumentFragment's children after inserting it.\n\n        if (Utilities.isConnected(this)) {\n          for (let i = 0; i < insertedNodes.length; i++) {\n            internals.connectTree(insertedNodes[i]);\n          }\n        }\n\n        return nativeResult;\n      }\n\n      const nodeWasConnected = Utilities.isConnected(node);\n      const nativeResult = Native.Node_appendChild.call(this, node);\n\n      if (nodeWasConnected) {\n        internals.disconnectTree(node);\n      }\n\n      if (Utilities.isConnected(this)) {\n        internals.connectTree(node);\n      }\n\n      return nativeResult;\n    });\n\n  Utilities.setPropertyUnchecked(Node.prototype, 'cloneNode',\n    /**\n     * @this {Node}\n     * @param {boolean=} deep\n     * @return {!Node}\n     */\n    function(deep) {\n      const clone = Native.Node_cloneNode.call(this, deep);\n      // Only create custom elements if this element's owner document is\n      // associated with the registry.\n      if (!this.ownerDocument.__CE_hasRegistry) {\n        internals.patchTree(clone);\n      } else {\n        internals.patchAndUpgradeTree(clone);\n      }\n      return clone;\n    });\n\n  Utilities.setPropertyUnchecked(Node.prototype, 'removeChild',\n    /**\n     * @this {Node}\n     * @param {!Node} node\n     * @return {!Node}\n     */\n    function(node) {\n      const nodeWasConnected = Utilities.isConnected(node);\n      const nativeResult = Native.Node_removeChild.call(this, node);\n\n      if (nodeWasConnected) {\n        internals.disconnectTree(node);\n      }\n\n      return nativeResult;\n    });\n\n  Utilities.setPropertyUnchecked(Node.prototype, 'replaceChild',\n    /**\n     * @this {Node}\n     * @param {!Node} nodeToInsert\n     * @param {!Node} nodeToRemove\n     * @return {!Node}\n     */\n    function(nodeToInsert, nodeToRemove) {\n      if (nodeToInsert instanceof DocumentFragment) {\n        const insertedNodes = Array.prototype.slice.apply(nodeToInsert.childNodes);\n        const nativeResult = Native.Node_replaceChild.call(this, nodeToInsert, nodeToRemove);\n\n        // DocumentFragments can't be connected, so `disconnectTree` will never\n        // need to be called on a DocumentFragment's children after inserting it.\n\n        if (Utilities.isConnected(this)) {\n          internals.disconnectTree(nodeToRemove);\n          for (let i = 0; i < insertedNodes.length; i++) {\n            internals.connectTree(insertedNodes[i]);\n          }\n        }\n\n        return nativeResult;\n      }\n\n      const nodeToInsertWasConnected = Utilities.isConnected(nodeToInsert);\n      const nativeResult = Native.Node_replaceChild.call(this, nodeToInsert, nodeToRemove);\n      const thisIsConnected = Utilities.isConnected(this);\n\n      if (thisIsConnected) {\n        internals.disconnectTree(nodeToRemove);\n      }\n\n      if (nodeToInsertWasConnected) {\n        internals.disconnectTree(nodeToInsert);\n      }\n\n      if (thisIsConnected) {\n        internals.connectTree(nodeToInsert);\n      }\n\n      return nativeResult;\n    });\n\n\n  function patch_textContent(destination, baseDescriptor) {\n    Object.defineProperty(destination, 'textContent', {\n      enumerable: baseDescriptor.enumerable,\n      configurable: true,\n      get: baseDescriptor.get,\n      set: /** @this {Node} */ function(assignedValue) {\n        // If this is a text node then there are no nodes to disconnect.\n        if (this.nodeType === Node.TEXT_NODE) {\n          baseDescriptor.set.call(this, assignedValue);\n          return;\n        }\n\n        let removedNodes = undefined;\n        // Checking for `firstChild` is faster than reading `childNodes.length`\n        // to compare with 0.\n        if (this.firstChild) {\n          // Using `childNodes` is faster than `children`, even though we only\n          // care about elements.\n          const childNodes = this.childNodes;\n          const childNodesLength = childNodes.length;\n          if (childNodesLength > 0 && Utilities.isConnected(this)) {\n            // Copying an array by iterating is faster than using slice.\n            removedNodes = new Array(childNodesLength);\n            for (let i = 0; i < childNodesLength; i++) {\n              removedNodes[i] = childNodes[i];\n            }\n          }\n        }\n\n        baseDescriptor.set.call(this, assignedValue);\n\n        if (removedNodes) {\n          for (let i = 0; i < removedNodes.length; i++) {\n            internals.disconnectTree(removedNodes[i]);\n          }\n        }\n      },\n    });\n  }\n\n  if (Native.Node_textContent && Native.Node_textContent.get) {\n    patch_textContent(Node.prototype, Native.Node_textContent);\n  } else {\n    internals.addPatch(function(element) {\n      patch_textContent(element, {\n        enumerable: true,\n        configurable: true,\n        // NOTE: This implementation of the `textContent` getter assumes that\n        // text nodes' `textContent` getter will not be patched.\n        get: /** @this {Node} */ function() {\n          /** @type {!Array<string>} */\n          const parts = [];\n\n          for (let i = 0; i < this.childNodes.length; i++) {\n            parts.push(this.childNodes[i].textContent);\n          }\n\n          return parts.join('');\n        },\n        set: /** @this {Node} */ function(assignedValue) {\n          while (this.firstChild) {\n            Native.Node_removeChild.call(this, this.firstChild);\n          }\n          Native.Node_appendChild.call(this, document.createTextNode(assignedValue));\n        },\n      });\n    });\n  }\n};\n","const reservedTagList = new Set([\n  'annotation-xml',\n  'color-profile',\n  'font-face',\n  'font-face-src',\n  'font-face-uri',\n  'font-face-format',\n  'font-face-name',\n  'missing-glyph',\n]);\n\n/**\n * @param {string} localName\n * @returns {boolean}\n */\nexport function isValidCustomElementName(localName) {\n  const reserved = reservedTagList.has(localName);\n  const validForm = /^[a-z][.0-9_a-z]*-[\\-.0-9_a-z]*$/.test(localName);\n  return !reserved && validForm;\n}\n\n/**\n * @private\n * @param {!Node} node\n * @return {boolean}\n */\nexport function isConnected(node) {\n  // Use `Node#isConnected`, if defined.\n  const nativeValue = node.isConnected;\n  if (nativeValue !== undefined) {\n    return nativeValue;\n  }\n\n  /** @type {?Node|undefined} */\n  let current = node;\n  while (current && !(current.__CE_isImportDocument || current instanceof Document)) {\n    current = current.parentNode || (window.ShadowRoot && current instanceof ShadowRoot ? current.host : undefined);\n  }\n  return !!(current && (current.__CE_isImportDocument || current instanceof Document));\n}\n\n/**\n * @param {!Node} root\n * @param {!Node} start\n * @return {?Node}\n */\nfunction nextSiblingOrAncestorSibling(root, start) {\n  let node = start;\n  while (node && node !== root && !node.nextSibling) {\n    node = node.parentNode;\n  }\n  return (!node || node === root) ? null : node.nextSibling;\n}\n\n/**\n * @param {!Node} root\n * @param {!Node} start\n * @return {?Node}\n */\nfunction nextNode(root, start) {\n  return start.firstChild ? start.firstChild : nextSiblingOrAncestorSibling(root, start);\n}\n\n/**\n * @param {!Node} root\n * @param {!function(!Element)} callback\n * @param {!Set<Node>=} visitedImports\n */\nexport function walkDeepDescendantElements(root, callback, visitedImports = new Set()) {\n  let node = root;\n  while (node) {\n    if (node.nodeType === Node.ELEMENT_NODE) {\n      const element = /** @type {!Element} */(node);\n\n      callback(element);\n\n      const localName = element.localName;\n      if (localName === 'link' && element.getAttribute('rel') === 'import') {\n        // If this import (polyfilled or not) has it's root node available,\n        // walk it.\n        const importNode = /** @type {!Node} */ (element.import);\n        if (importNode instanceof Node && !visitedImports.has(importNode)) {\n          // Prevent multiple walks of the same import root.\n          visitedImports.add(importNode);\n\n          for (let child = importNode.firstChild; child; child = child.nextSibling) {\n            walkDeepDescendantElements(child, callback, visitedImports);\n          }\n        }\n\n        // Ignore descendants of import links to prevent attempting to walk the\n        // elements created by the HTML Imports polyfill that we just walked\n        // above.\n        node = nextSiblingOrAncestorSibling(root, element);\n        continue;\n      } else if (localName === 'template') {\n        // Ignore descendants of templates. There shouldn't be any descendants\n        // because they will be moved into `.content` during construction in\n        // browsers that support template but, in case they exist and are still\n        // waiting to be moved by a polyfill, they will be ignored.\n        node = nextSiblingOrAncestorSibling(root, element);\n        continue;\n      }\n\n      // Walk shadow roots.\n      const shadowRoot = element.__CE_shadowRoot;\n      if (shadowRoot) {\n        for (let child = shadowRoot.firstChild; child; child = child.nextSibling) {\n          walkDeepDescendantElements(child, callback, visitedImports);\n        }\n      }\n    }\n\n    node = nextNode(root, node);\n  }\n}\n\n/**\n * Used to suppress Closure's \"Modifying the prototype is only allowed if the\n * constructor is in the same scope\" warning without using\n * `@suppress {newCheckTypes, duplicate}` because `newCheckTypes` is too broad.\n *\n * @param {!Object} destination\n * @param {string} name\n * @param {*} value\n */\nexport function setPropertyUnchecked(destination, name, value) {\n  destination[name] = value;\n}\n","/**\n * @license\n * Copyright (c) 2016 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n */\n\nimport CustomElementInternals from './CustomElementInternals.js';\nimport CustomElementRegistry from './CustomElementRegistry.js';\n\nimport PatchHTMLElement from './Patch/HTMLElement.js';\nimport PatchDocument from './Patch/Document.js';\nimport PatchNode from './Patch/Node.js';\nimport PatchElement from './Patch/Element.js';\n\nconst priorCustomElements = window['customElements'];\n\nif (!priorCustomElements ||\n     priorCustomElements['forcePolyfill'] ||\n     (typeof priorCustomElements['define'] != 'function') ||\n     (typeof priorCustomElements['get'] != 'function')) {\n  /** @type {!CustomElementInternals} */\n  const internals = new CustomElementInternals();\n\n  PatchHTMLElement(internals);\n  PatchDocument(internals);\n  PatchNode(internals);\n  PatchElement(internals);\n\n  // The main document is always associated with the registry.\n  document.__CE_hasRegistry = true;\n\n  /** @type {!CustomElementRegistry} */\n  const customElements = new CustomElementRegistry(internals);\n\n  Object.defineProperty(window, 'customElements', {\n    configurable: true,\n    enumerable: true,\n    value: customElements,\n  });\n}\n","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":root{\\r\\n     --text-font-size: 1.6rem\\r\\n }\", \"\"]);\n\n// exports\n","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\nexports.i(require(\"-!../../../../node_modules/css-loader/index.js!../../../css/base.css\"), \"\");\n\n// module\nexports.push([module.id, \"mui-dialog{\\r\\n    position: absolute;\\r\\n    top: 0;\\r\\n    bottom: 0;\\r\\n    left: 0;\\r\\n    right: 0;\\r\\n    overflow: hidden;\\r\\n    touch-action: manipulation;\\r\\n}\\r\\n\\r\\n.dialog__mask{\\r\\n    padding: 0;\\r\\n    margin: 0;\\r\\n    position: absolute;\\r\\n    top: 0;\\r\\n    right: 0;\\r\\n    left: 0;\\r\\n    bottom: 0;\\r\\n    border: none;\\r\\n    background-color: rgba(0, 0, 0, .2);\\r\\n}\\r\\n\\r\\n.dialog__wrapper{\\r\\n    position: absolute;\\r\\n    background-color: #fff;\\r\\n    width: 30rem;\\r\\n    top: 50%;\\r\\n    left: 50%;\\r\\n    transform: translate(-50%,-50%);\\r\\n    border-radius: 0.8rem;\\r\\n}\\r\\n\\r\\n.dialog__header, .dialog__footer {\\r\\n    height: 4.4rem;\\r\\n    font-size: var(--text-font-size);\\r\\n    line-height: 4.4rem;\\r\\n    text-align: center\\r\\n}\\r\\n\\r\\n.dialog__header {\\r\\n    box-sizing: border-box;\\r\\n}\\r\\n\\r\\n.dialog__footer {\\r\\n    border-top: 1px solid #ddd;\\r\\n    box-sizing: border-box;\\r\\n}\\r\\n\\r\\n\\r\\n.dialog__body{\\r\\n    padding: 1.5rem;\\r\\n    min-height: 3rem;\\r\\n    font-size: var(--text-font-size);\\r\\n    text-align: center;\\r\\n}\", \"\"]);\n\n// exports\n","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function(useSourceMap) {\n\tvar list = [];\n\n\t// return the list of modules as css string\n\tlist.toString = function toString() {\n\t\treturn this.map(function (item) {\n\t\t\tvar content = cssWithMappingToString(item, useSourceMap);\n\t\t\tif(item[2]) {\n\t\t\t\treturn \"@media \" + item[2] + \"{\" + content + \"}\";\n\t\t\t} else {\n\t\t\t\treturn content;\n\t\t\t}\n\t\t}).join(\"\");\n\t};\n\n\t// import a list of modules into the list\n\tlist.i = function(modules, mediaQuery) {\n\t\tif(typeof modules === \"string\")\n\t\t\tmodules = [[null, modules, \"\"]];\n\t\tvar alreadyImportedModules = {};\n\t\tfor(var i = 0; i < this.length; i++) {\n\t\t\tvar id = this[i][0];\n\t\t\tif(typeof id === \"number\")\n\t\t\t\talreadyImportedModules[id] = true;\n\t\t}\n\t\tfor(i = 0; i < modules.length; i++) {\n\t\t\tvar item = modules[i];\n\t\t\t// skip already imported module\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\n\t\t\t//  when a module is imported multiple times with different media queries.\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\n\t\t\t\tif(mediaQuery && !item[2]) {\n\t\t\t\t\titem[2] = mediaQuery;\n\t\t\t\t} else if(mediaQuery) {\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\n\t\t\t\t}\n\t\t\t\tlist.push(item);\n\t\t\t}\n\t\t}\n\t};\n\treturn list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n\tvar content = item[1] || '';\n\tvar cssMapping = item[3];\n\tif (!cssMapping) {\n\t\treturn content;\n\t}\n\n\tif (useSourceMap && typeof btoa === 'function') {\n\t\tvar sourceMapping = toComment(cssMapping);\n\t\tvar sourceURLs = cssMapping.sources.map(function (source) {\n\t\t\treturn '/*# sourceURL=' + cssMapping.sourceRoot + source + ' */'\n\t\t});\n\n\t\treturn [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n\t}\n\n\treturn [content].join('\\n');\n}\n\n// Adapted from convert-source-map (MIT)\nfunction toComment(sourceMap) {\n\t// eslint-disable-next-line no-undef\n\tvar base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n\tvar data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;\n\n\treturn '/*# ' + data + ' */';\n}\n","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\nvar stylesInDom = {};\n\nvar\tmemoize = function (fn) {\n\tvar memo;\n\n\treturn function () {\n\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\n\t\treturn memo;\n\t};\n};\n\nvar isOldIE = memoize(function () {\n\t// Test for IE <= 9 as proposed by Browserhacks\n\t// @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n\t// Tests for existence of standard globals is to allow style-loader\n\t// to operate correctly into non-standard environments\n\t// @see https://github.com/webpack-contrib/style-loader/issues/177\n\treturn window && document && document.all && !window.atob;\n});\n\nvar getTarget = function (target, parent) {\n  if (parent){\n    return parent.querySelector(target);\n  }\n  return document.querySelector(target);\n};\n\nvar getElement = (function (fn) {\n\tvar memo = {};\n\n\treturn function(target, parent) {\n                // If passing function in options, then use it for resolve \"head\" element.\n                // Useful for Shadow Root style i.e\n                // {\n                //   insertInto: function () { return document.querySelector(\"#foo\").shadowRoot }\n                // }\n                if (typeof target === 'function') {\n                        return target();\n                }\n                if (typeof memo[target] === \"undefined\") {\n\t\t\tvar styleTarget = getTarget.call(this, target, parent);\n\t\t\t// Special case to return head of iframe instead of iframe itself\n\t\t\tif (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n\t\t\t\ttry {\n\t\t\t\t\t// This will throw an exception if access to iframe is blocked\n\t\t\t\t\t// due to cross-origin restrictions\n\t\t\t\t\tstyleTarget = styleTarget.contentDocument.head;\n\t\t\t\t} catch(e) {\n\t\t\t\t\tstyleTarget = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tmemo[target] = styleTarget;\n\t\t}\n\t\treturn memo[target]\n\t};\n})();\n\nvar singleton = null;\nvar\tsingletonCounter = 0;\nvar\tstylesInsertedAtTop = [];\n\nvar\tfixUrls = require(\"./urls\");\n\nmodule.exports = function(list, options) {\n\tif (typeof DEBUG !== \"undefined\" && DEBUG) {\n\t\tif (typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\n\t}\n\n\toptions = options || {};\n\n\toptions.attrs = typeof options.attrs === \"object\" ? options.attrs : {};\n\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n\t// tags it will allow on a page\n\tif (!options.singleton && typeof options.singleton !== \"boolean\") options.singleton = isOldIE();\n\n\t// By default, add <style> tags to the <head> element\n        if (!options.insertInto) options.insertInto = \"head\";\n\n\t// By default, add <style> tags to the bottom of the target\n\tif (!options.insertAt) options.insertAt = \"bottom\";\n\n\tvar styles = listToStyles(list, options);\n\n\taddStylesToDom(styles, options);\n\n\treturn function update (newList) {\n\t\tvar mayRemove = [];\n\n\t\tfor (var i = 0; i < styles.length; i++) {\n\t\t\tvar item = styles[i];\n\t\t\tvar domStyle = stylesInDom[item.id];\n\n\t\t\tdomStyle.refs--;\n\t\t\tmayRemove.push(domStyle);\n\t\t}\n\n\t\tif(newList) {\n\t\t\tvar newStyles = listToStyles(newList, options);\n\t\t\taddStylesToDom(newStyles, options);\n\t\t}\n\n\t\tfor (var i = 0; i < mayRemove.length; i++) {\n\t\t\tvar domStyle = mayRemove[i];\n\n\t\t\tif(domStyle.refs === 0) {\n\t\t\t\tfor (var j = 0; j < domStyle.parts.length; j++) domStyle.parts[j]();\n\n\t\t\t\tdelete stylesInDom[domStyle.id];\n\t\t\t}\n\t\t}\n\t};\n};\n\nfunction addStylesToDom (styles, options) {\n\tfor (var i = 0; i < styles.length; i++) {\n\t\tvar item = styles[i];\n\t\tvar domStyle = stylesInDom[item.id];\n\n\t\tif(domStyle) {\n\t\t\tdomStyle.refs++;\n\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\n\t\t\t}\n\n\t\t\tfor(; j < item.parts.length; j++) {\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t} else {\n\t\t\tvar parts = [];\n\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\n\t\t}\n\t}\n}\n\nfunction listToStyles (list, options) {\n\tvar styles = [];\n\tvar newStyles = {};\n\n\tfor (var i = 0; i < list.length; i++) {\n\t\tvar item = list[i];\n\t\tvar id = options.base ? item[0] + options.base : item[0];\n\t\tvar css = item[1];\n\t\tvar media = item[2];\n\t\tvar sourceMap = item[3];\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\n\n\t\tif(!newStyles[id]) styles.push(newStyles[id] = {id: id, parts: [part]});\n\t\telse newStyles[id].parts.push(part);\n\t}\n\n\treturn styles;\n}\n\nfunction insertStyleElement (options, style) {\n\tvar target = getElement(options.insertInto)\n\n\tif (!target) {\n\t\tthrow new Error(\"Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.\");\n\t}\n\n\tvar lastStyleElementInsertedAtTop = stylesInsertedAtTop[stylesInsertedAtTop.length - 1];\n\n\tif (options.insertAt === \"top\") {\n\t\tif (!lastStyleElementInsertedAtTop) {\n\t\t\ttarget.insertBefore(style, target.firstChild);\n\t\t} else if (lastStyleElementInsertedAtTop.nextSibling) {\n\t\t\ttarget.insertBefore(style, lastStyleElementInsertedAtTop.nextSibling);\n\t\t} else {\n\t\t\ttarget.appendChild(style);\n\t\t}\n\t\tstylesInsertedAtTop.push(style);\n\t} else if (options.insertAt === \"bottom\") {\n\t\ttarget.appendChild(style);\n\t} else if (typeof options.insertAt === \"object\" && options.insertAt.before) {\n\t\tvar nextSibling = getElement(options.insertAt.before, target);\n\t\ttarget.insertBefore(style, nextSibling);\n\t} else {\n\t\tthrow new Error(\"[Style Loader]\\n\\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\\n Must be 'top', 'bottom', or Object.\\n (https://github.com/webpack-contrib/style-loader#insertat)\\n\");\n\t}\n}\n\nfunction removeStyleElement (style) {\n\tif (style.parentNode === null) return false;\n\tstyle.parentNode.removeChild(style);\n\n\tvar idx = stylesInsertedAtTop.indexOf(style);\n\tif(idx >= 0) {\n\t\tstylesInsertedAtTop.splice(idx, 1);\n\t}\n}\n\nfunction createStyleElement (options) {\n\tvar style = document.createElement(\"style\");\n\n\tif(options.attrs.type === undefined) {\n\t\toptions.attrs.type = \"text/css\";\n\t}\n\n\tif(options.attrs.nonce === undefined) {\n\t\tvar nonce = getNonce();\n\t\tif (nonce) {\n\t\t\toptions.attrs.nonce = nonce;\n\t\t}\n\t}\n\n\taddAttrs(style, options.attrs);\n\tinsertStyleElement(options, style);\n\n\treturn style;\n}\n\nfunction createLinkElement (options) {\n\tvar link = document.createElement(\"link\");\n\n\tif(options.attrs.type === undefined) {\n\t\toptions.attrs.type = \"text/css\";\n\t}\n\toptions.attrs.rel = \"stylesheet\";\n\n\taddAttrs(link, options.attrs);\n\tinsertStyleElement(options, link);\n\n\treturn link;\n}\n\nfunction addAttrs (el, attrs) {\n\tObject.keys(attrs).forEach(function (key) {\n\t\tel.setAttribute(key, attrs[key]);\n\t});\n}\n\nfunction getNonce() {\n\tif (typeof __webpack_nonce__ === 'undefined') {\n\t\treturn null;\n\t}\n\n\treturn __webpack_nonce__;\n}\n\nfunction addStyle (obj, options) {\n\tvar style, update, remove, result;\n\n\t// If a transform function was defined, run it on the css\n\tif (options.transform && obj.css) {\n\t    result = typeof options.transform === 'function'\n\t\t ? options.transform(obj.css) \n\t\t : options.transform.default(obj.css);\n\n\t    if (result) {\n\t    \t// If transform returns a value, use that instead of the original css.\n\t    \t// This allows running runtime transformations on the css.\n\t    \tobj.css = result;\n\t    } else {\n\t    \t// If the transform function returns a falsy value, don't add this css.\n\t    \t// This allows conditional loading of css\n\t    \treturn function() {\n\t    \t\t// noop\n\t    \t};\n\t    }\n\t}\n\n\tif (options.singleton) {\n\t\tvar styleIndex = singletonCounter++;\n\n\t\tstyle = singleton || (singleton = createStyleElement(options));\n\n\t\tupdate = applyToSingletonTag.bind(null, style, styleIndex, false);\n\t\tremove = applyToSingletonTag.bind(null, style, styleIndex, true);\n\n\t} else if (\n\t\tobj.sourceMap &&\n\t\ttypeof URL === \"function\" &&\n\t\ttypeof URL.createObjectURL === \"function\" &&\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\n\t\ttypeof Blob === \"function\" &&\n\t\ttypeof btoa === \"function\"\n\t) {\n\t\tstyle = createLinkElement(options);\n\t\tupdate = updateLink.bind(null, style, options);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\n\t\t\tif(style.href) URL.revokeObjectURL(style.href);\n\t\t};\n\t} else {\n\t\tstyle = createStyleElement(options);\n\t\tupdate = applyToTag.bind(null, style);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\t\t};\n\t}\n\n\tupdate(obj);\n\n\treturn function updateStyle (newObj) {\n\t\tif (newObj) {\n\t\t\tif (\n\t\t\t\tnewObj.css === obj.css &&\n\t\t\t\tnewObj.media === obj.media &&\n\t\t\t\tnewObj.sourceMap === obj.sourceMap\n\t\t\t) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tupdate(obj = newObj);\n\t\t} else {\n\t\t\tremove();\n\t\t}\n\t};\n}\n\nvar replaceText = (function () {\n\tvar textStore = [];\n\n\treturn function (index, replacement) {\n\t\ttextStore[index] = replacement;\n\n\t\treturn textStore.filter(Boolean).join('\\n');\n\t};\n})();\n\nfunction applyToSingletonTag (style, index, remove, obj) {\n\tvar css = remove ? \"\" : obj.css;\n\n\tif (style.styleSheet) {\n\t\tstyle.styleSheet.cssText = replaceText(index, css);\n\t} else {\n\t\tvar cssNode = document.createTextNode(css);\n\t\tvar childNodes = style.childNodes;\n\n\t\tif (childNodes[index]) style.removeChild(childNodes[index]);\n\n\t\tif (childNodes.length) {\n\t\t\tstyle.insertBefore(cssNode, childNodes[index]);\n\t\t} else {\n\t\t\tstyle.appendChild(cssNode);\n\t\t}\n\t}\n}\n\nfunction applyToTag (style, obj) {\n\tvar css = obj.css;\n\tvar media = obj.media;\n\n\tif(media) {\n\t\tstyle.setAttribute(\"media\", media)\n\t}\n\n\tif(style.styleSheet) {\n\t\tstyle.styleSheet.cssText = css;\n\t} else {\n\t\twhile(style.firstChild) {\n\t\t\tstyle.removeChild(style.firstChild);\n\t\t}\n\n\t\tstyle.appendChild(document.createTextNode(css));\n\t}\n}\n\nfunction updateLink (link, options, obj) {\n\tvar css = obj.css;\n\tvar sourceMap = obj.sourceMap;\n\n\t/*\n\t\tIf convertToAbsoluteUrls isn't defined, but sourcemaps are enabled\n\t\tand there is no publicPath defined then lets turn convertToAbsoluteUrls\n\t\ton by default.  Otherwise default to the convertToAbsoluteUrls option\n\t\tdirectly\n\t*/\n\tvar autoFixUrls = options.convertToAbsoluteUrls === undefined && sourceMap;\n\n\tif (options.convertToAbsoluteUrls || autoFixUrls) {\n\t\tcss = fixUrls(css);\n\t}\n\n\tif (sourceMap) {\n\t\t// http://stackoverflow.com/a/26603875\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\n\t}\n\n\tvar blob = new Blob([css], { type: \"text/css\" });\n\n\tvar oldSrc = link.href;\n\n\tlink.href = URL.createObjectURL(blob);\n\n\tif(oldSrc) URL.revokeObjectURL(oldSrc);\n}\n","\n/**\n * When source maps are enabled, `style-loader` uses a link element with a data-uri to\n * embed the css on the page. This breaks all relative urls because now they are relative to a\n * bundle instead of the current page.\n *\n * One solution is to only use full urls, but that may be impossible.\n *\n * Instead, this function \"fixes\" the relative urls to be absolute according to the current page location.\n *\n * A rudimentary test suite is located at `test/fixUrls.js` and can be run via the `npm test` command.\n *\n */\n\nmodule.exports = function (css) {\n  // get current location\n  var location = typeof window !== \"undefined\" && window.location;\n\n  if (!location) {\n    throw new Error(\"fixUrls requires window.location\");\n  }\n\n\t// blank or null?\n\tif (!css || typeof css !== \"string\") {\n\t  return css;\n  }\n\n  var baseUrl = location.protocol + \"//\" + location.host;\n  var currentDir = baseUrl + location.pathname.replace(/\\/[^\\/]*$/, \"/\");\n\n\t// convert each url(...)\n\t/*\n\tThis regular expression is just a way to recursively match brackets within\n\ta string.\n\n\t /url\\s*\\(  = Match on the word \"url\" with any whitespace after it and then a parens\n\t   (  = Start a capturing group\n\t     (?:  = Start a non-capturing group\n\t         [^)(]  = Match anything that isn't a parentheses\n\t         |  = OR\n\t         \\(  = Match a start parentheses\n\t             (?:  = Start another non-capturing groups\n\t                 [^)(]+  = Match anything that isn't a parentheses\n\t                 |  = OR\n\t                 \\(  = Match a start parentheses\n\t                     [^)(]*  = Match anything that isn't a parentheses\n\t                 \\)  = Match a end parentheses\n\t             )  = End Group\n              *\\) = Match anything and then a close parens\n          )  = Close non-capturing group\n          *  = Match anything\n       )  = Close capturing group\n\t \\)  = Match a close parens\n\n\t /gi  = Get all matches, not the first.  Be case insensitive.\n\t */\n\tvar fixedCss = css.replace(/url\\s*\\(((?:[^)(]|\\((?:[^)(]+|\\([^)(]*\\))*\\))*)\\)/gi, function(fullMatch, origUrl) {\n\t\t// strip quotes (if they exist)\n\t\tvar unquotedOrigUrl = origUrl\n\t\t\t.trim()\n\t\t\t.replace(/^\"(.*)\"$/, function(o, $1){ return $1; })\n\t\t\t.replace(/^'(.*)'$/, function(o, $1){ return $1; });\n\n\t\t// already a full url? no change\n\t\tif (/^(#|data:|http:\\/\\/|https:\\/\\/|file:\\/\\/\\/|\\s*$)/i.test(unquotedOrigUrl)) {\n\t\t  return fullMatch;\n\t\t}\n\n\t\t// convert the url to a full url\n\t\tvar newUrl;\n\n\t\tif (unquotedOrigUrl.indexOf(\"//\") === 0) {\n\t\t  \t//TODO: should we add protocol?\n\t\t\tnewUrl = unquotedOrigUrl;\n\t\t} else if (unquotedOrigUrl.indexOf(\"/\") === 0) {\n\t\t\t// path should be relative to the base url\n\t\t\tnewUrl = baseUrl + unquotedOrigUrl; // already starts with '/'\n\t\t} else {\n\t\t\t// path should be relative to current directory\n\t\t\tnewUrl = currentDir + unquotedOrigUrl.replace(/^\\.\\//, \"\"); // Strip leading './'\n\t\t}\n\n\t\t// send back the fixed url(...)\n\t\treturn \"url(\" + JSON.stringify(newUrl) + \")\";\n\t});\n\n\t// send back the fixed css\n\treturn fixedCss;\n};\n"],"sourceRoot":""}